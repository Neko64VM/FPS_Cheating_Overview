# アンチチートの役割

## 目的と役割
アンチチートは、ゲームの公平性を保つために導入されています。  
役割については、大雑把に以下の3つに分類されます。

1. チートの抑止
2. チートの検出
3. チートの追跡/調査

### 1. チートの抑止
「抑止」といってもいくつかニュアンスがあります。  

* PCが基準を満たした環境であるか  
例えば、Riot Vanguardであるとバージョン1909以前のWindows10や、Windows7/8/8.1等のOSをサポートしていません。これらはゲームの起動前にアンチチートに識別されゲームの起動が許可されません。  
また、セキュアブートやその他セキュリティ機能のをオンをユーザーに強制しよりセキュアな環境でゲームをプレイさせることを強要します。

* 検出されたチート/技術の阻止  
例えばGitHubで公開されているアンチチートに既に識別されているカーネルドライバが等がPC内にロードされていたりするとEACの場合はゲームの起動を拒否します。多分Vanguardもそうなのかな？

* より高い技術を要求する  
高度なアンチチートの導入により、チート開発者に対してアンチチートが使用する以上のより高い技術を要求し、経験の浅い開発者やそもそもコピーとペーストしかできない無能なチート開発者を締め出すことができます。

### 2. チートの検出
文字通り、実行中のチートを検出します。  
従来のソフトウェアとしてのチートだけでなく、コンバーターや最近だとDMAの検出も厳しくなっています。  
不正なDLLインジェクションを検出したり、Win32APIの各関数をフック、Syscallを監視するなどいろいろやっています。  

### 3. チートの追跡/調査
チートの証拠や痕跡を収集し、今後対策を強化する上での情報として活かします。

## ユーザーモード
普段私たちがアプリケーションを実行する層で動作するアンチチートです。  
大した権限が無いので、カーネルレベルで動作していたりするともう何もできません。  
Valve Anti-Cheat、PunkBuster等

## カーネルモード
代表的なものであれば、「Easy Anti-Cheat」「BattlEye」「Riot Vanguard」「FaceIt Anti-Cheat」でしょう。  
これらはカーネルモードで動作するので、理論上は基本的に文字通り「何でもできる」と言っても過言ではありません。

しかし、カーネルで動作するからといってそこで何をしてもいいという訳ではありません。  
カーネルレベルの権限があれば理論上、PC上の全てのデータを抜き取りその上PCを二度と起動できないようにすることも可能です。
また、[GDPR](https://ja.wikipedia.org/wiki/EU%E4%B8%80%E8%88%AC%E3%83%87%E3%83%BC%E3%82%BF%E4%BF%9D%E8%AD%B7%E8%A6%8F%E5%89%87) をはじめとしたプライバシー保護の規則や法律を遵守する必要があり、運営会社や開発元には非常に高い透明性が求められます。  
また、近年のチートもカーネルレベルで動作するのでこちらも然りです。

## サーバーサイドアンチチート
クライアント側にアンチチートが導入されているのは周知の事実ですが、実際のところサーバー側にもアンチチートが導入されています。
Battlefirld 3/4等をプレイしていた人にとっては馴染みのある「FairFight」とかもこれです。  
また、CounterStrikeシリーズやApexLegendsにも名称不明ながらほぼ確実に導入されているでしょう。

これらのサーバー側のアンチチートはチーターが手を加えることができない領域で動作しているので、クライアント側アンチチートと比べると自由度は低いですが無効化されることなくほぼ確実にプレイ環境の保護が可能です。  

基本的にには、クライアントから送られてきた様々なデータを基に、データに異常がないか、他にも例えばあまりに露骨なAimBot（1フレーム以内に90°回転し遠くの敵の頭にエイムを合わせる）などを検出するとかしてます。